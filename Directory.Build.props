<Project>

  <PropertyGroup>
    <!-- Multi-targeting: .NET 8 (LTS), .NET 9, .NET 10 -->
    <TargetFrameworks>net8.0;net9.0;net10.0</TargetFrameworks>

    <!-- Language & Nullability -->
    <LangVersion>latest</LangVersion>
    <Nullable>enable</Nullable>
    <ImplicitUsings>enable</ImplicitUsings>

    <!-- Build Quality -->
    <TreatWarningsAsErrors>true</TreatWarningsAsErrors>
    <Deterministic>true</Deterministic>
    <ContinuousIntegrationBuild Condition="'$(GITHUB_ACTIONS)' == 'true'">true</ContinuousIntegrationBuild>

    <!-- Strong Naming - All assemblies are signed with the same key for identity and tamper protection. -->
    <SignAssembly>true</SignAssembly>
    <AssemblyOriginatorKeyFile>$(MSBuildThisFileDirectory)Smtp2Go.NET.snk</AssemblyOriginatorKeyFile>

    <!-- SourceLink -->
    <PublishRepositoryUrl>true</PublishRepositoryUrl>
    <EmbedUntrackedSources>true</EmbedUntrackedSources>
    <IncludeSymbols>true</IncludeSymbols>
    <SymbolPackageFormat>snupkg</SymbolPackageFormat>
    <RepositoryType>git</RepositoryType>

    <!--
      Trim/AOT Analysis - Disabled by default.
      Enable when migrating to source-generated JSON serializers.
    -->
    <EnableTrimAnalyzer>false</EnableTrimAnalyzer>
    <IsTrimmable>false</IsTrimmable>
    <IsAotCompatible>false</IsAotCompatible>

    <!--
      Documentation - Generate XML docs but don't fail on missing comments.
      CS1591: Missing XML comment for publicly visible type or member
    -->
    <GenerateDocumentationFile>true</GenerateDocumentationFile>
    <NoWarn>$(NoWarn);CS1591</NoWarn>
  </PropertyGroup>

  <!--
    Centralized NuGet Package Metadata
    Individual projects override PackageId, Version, Description, and PackageTags as needed.
  -->
  <PropertyGroup>
    <Authors>Alos Engineering</Authors>
    <Company>Alos Engineering</Company>
    <Copyright>Copyright (c) $([System.DateTime]::Now.Year) Alos Engineering</Copyright>
    <PackageLicenseExpression>Apache-2.0</PackageLicenseExpression>
    <PackageProjectUrl>https://github.com/Alos-no/Smtp2Go.NET</PackageProjectUrl>
    <RepositoryUrl>https://github.com/Alos-no/Smtp2Go.NET</RepositoryUrl>
    <PackageReadmeFile>README.md</PackageReadmeFile>

    <!-- Package generation settings -->
    <GeneratePackageOnBuild>true</GeneratePackageOnBuild>
    <IsPackable>true</IsPackable>

    <!-- Package Validation - Ensures API compatibility and package correctness. -->
    <EnablePackageValidation>true</EnablePackageValidation>
  </PropertyGroup>

  <!-- SourceLink Package -->
  <ItemGroup>
    <PackageReference Include="Microsoft.SourceLink.GitHub" Version="8.0.0" PrivateAssets="All" />
  </ItemGroup>

</Project>
